{"version":3,"sources":["main.js"],"names":["$siteList","$","$lastLi","find","sites","JSON","parse","localStorage","getItem","hashMap","logo","logoType","name","url","simplifyUrl","replace","render","remove","forEach","node","index","$li","insertBefore","on","window","open","e","stopPropagation","splice","setItem","stringify","document","fadeOut","touchstart","longClick","timeOutEvent","setTimeout","fadeIn","preventDefault","touchmove","clearTimeout","touchend","submit","siteName","val","alert","indexOf","push","removeClass","click","addClass","keypress","key","clear","location","reload","focusin","focusout"],"mappings":"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","file":"main.92ce0129.js","sourceRoot":"..\\src","sourcesContent":["const $siteList = $('.site-list')\r\nconst $lastLi = $siteList.find('li.last')\r\nconst sites = JSON.parse(localStorage.getItem('sites'))\r\n\r\n/**\r\n * 设置数据存储及初始化\r\n */\r\n\r\nconst hashMap = sites || [\r\n    {\r\n        logo: 'A',\r\n        logoType: 'text',\r\n        name: 'Acfun',\r\n        url: 'https://www.acfun.cn'\r\n    }, {\r\n        logo: 'B',\r\n        logoType: 'text',\r\n        name: 'Bilibili',\r\n        url: 'https://bilibili.com'\r\n    }\r\n]\r\n\r\n/**\r\n * 设置页面结构\r\n */\r\n\r\nconst simplifyUrl = (url) => {\r\n    return url.replace('https://', '')\r\n        .replace('http://', '')\r\n        .replace('www.', '')\r\n        .replace(/\\/.*/, '')\r\n}\r\n\r\nconst render = () => {\r\n    $siteList.find('li:not(.last').remove()\r\n    hashMap.forEach((node, index) => {\r\n        const $li = $(`\r\n        <li>\r\n            <div class=\"site\">\r\n                <div class=\"logo\">${node.logo}</div>\r\n                <div class=\"name\">${node.name}</div>\r\n                <div class=\"pc-close\">\r\n                    <svg class=\"icon\">\r\n                        <use xlink:href=\"#icon-close\"></use>\r\n                    </svg>\r\n                </div>\r\n                <div class=\"mobile-close-container\">\r\n                    <div class=\"mobile-close\">\r\n                        <svg class=\"icon\">\r\n                            <use xlink:href=\"#icon-close\"></use>\r\n                        </svg>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        </li>`).insertBefore($lastLi)\r\n        $li.on('click', () => {\r\n            window.open(node.url, '_self')\r\n        })\r\n        $li.on('click', '.pc-close', (e) => {\r\n            e.stopPropagation()\r\n            hashMap.splice(index, 1)\r\n            localStorage.setItem('sites', JSON.stringify(hashMap))\r\n            render()\r\n        })\r\n        $li.on('touchend', '.mobile-close', (e) => {\r\n            e.stopPropagation()\r\n            hashMap.splice(index, 1)\r\n            localStorage.setItem('sites', JSON.stringify(hashMap))\r\n            render()\r\n        })\r\n        $(document).on('touchstart', (e) => {\r\n            $('.mobile-close-container', $li).fadeOut(200)\r\n        })\r\n        $li.on({\r\n            touchstart: function (e) {\r\n                longClick = 0\r\n                timeOutEvent = setTimeout(function () {\r\n                    $('.mobile-close-container', $li).fadeIn(100)\r\n                    longClick = 1\r\n                }, 500)\r\n                e.preventDefault()\r\n            },\r\n            touchmove: function (e) {\r\n                clearTimeout(timeOutEvent)\r\n                timeOutEvent = 0\r\n                e.preventDefault()\r\n            },\r\n            touchend: function (e) {\r\n                clearTimeout(timeOutEvent)\r\n                if (timeOutEvent !== 0 && longClick === 0) {\r\n                    window.open(node.url, '_self')\r\n                }\r\n            }\r\n        })\r\n    })\r\n}\r\n\r\nrender()\r\n\r\n/**\r\n * 设置添加网站事件\r\n */\r\n\r\nconst submit = () => {\r\n    let siteName = $(`input[id='field-name']`, '.add-dialog').val()\r\n    let url = $(`input[id='field-url']`, '.add-dialog').val()\r\n    $('input', '.add-dialog').val('')\r\n    if (!siteName) {\r\n        siteName = simplifyUrl(url)\r\n    }\r\n    if (!url) {\r\n        alert('请务必输入网址哦')\r\n        return\r\n    }\r\n    if (url.indexOf('http') !== 0) {\r\n        url = 'https://' + url\r\n    }\r\n    hashMap.push({\r\n        name: siteName,\r\n        logo: siteName[0],\r\n        logoType: 'text',\r\n        url: url\r\n    })\r\n    $('#add-dialog-container').fadeOut(200)\r\n    render()\r\n    localStorage.setItem('sites', JSON.stringify(hashMap))\r\n    $('#add-button').removeClass('active')\r\n    $('.icon','#add-button').removeClass('active')\r\n}\r\n\r\n$('#add-button').click(() => {\r\n    $('#add-dialog-container').fadeIn(200)\r\n    $('#add-button').addClass('active')\r\n    $('.icon','#add-button').addClass('active')\r\n})\r\n\r\n$('#dialog-submit').click(() => {\r\n    submit()\r\n})\r\n\r\n$('#field-url').keypress((e) => {\r\n    const { key } = e\r\n    if (key === 'Enter') {\r\n        submit()\r\n    }\r\n    e.stopPropagation()\r\n})\r\n\r\n$('#dialog-close').click(() => {\r\n    $('#add-dialog-container').fadeOut(200)\r\n    $('input', '.add-dialog').val('')\r\n    $('#add-button').removeClass('active')\r\n    $('.icon','#add-button').removeClass('active')\r\n})\r\n\r\n/**\r\n * 设置快捷键事件\r\n */\r\n\r\n$(document).on('keypress', (e) => {\r\n    const { key } = e\r\n    window.open(hashMap[key - 1].url, '_self')\r\n})\r\n\r\n$('input', '.search-form').on('keypress', (e) => {\r\n    e.stopPropagation()\r\n})\r\n\r\n$('input', '.add-dialog').on('keypress', (e) => {\r\n    e.stopPropagation()\r\n})\r\n\r\n$('#test').click(() => {\r\n    localStorage.clear()\r\n    location.reload()\r\n})\r\n\r\n$('input', '.search-form').focusin(() => {\r\n    $('.search-form').addClass('active')\r\n})\r\n\r\n$('input', '.search-form').focusout(() => {\r\n    $('.search-form').removeClass('active')\r\n})"]}