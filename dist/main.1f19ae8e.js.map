{"version":3,"sources":["main.js"],"names":["$siteList","$","$lastLi","find","sites","JSON","parse","localStorage","getItem","hashMap","logo","logoType","name","url","simplifyUrl","replace","render","remove","forEach","node","index","$li","insertBefore","on","window","open","e","stopPropagation","splice","setItem","stringify","document","css","touchstart","longClick","timeOutEvent","setTimeout","preventDefault","touchmove","clearTimeout","touchend","siteName","val","alert","indexOf","push","key","console","log","clear","location","reload"],"mappings":"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","file":"main.1f19ae8e.js","sourceRoot":"..\\src","sourcesContent":["const $siteList = $('.site-list')\r\nconst $lastLi = $siteList.find('li.last')\r\nconst sites = JSON.parse(localStorage.getItem('sites'))\r\n\r\n/**\r\n * 设置数据存储及初始化\r\n */\r\n\r\nconst hashMap = sites || [\r\n    {\r\n        logo: 'A',\r\n        logoType: 'text',\r\n        name: 'Acfun',\r\n        url: 'https://www.acfun.cn'\r\n    }, {\r\n        logo: 'B',\r\n        logoType: 'text',\r\n        name: 'Bilibili',\r\n        url: 'https://bilibili.com'\r\n    }\r\n]\r\n\r\n/**\r\n * 设置页面结构\r\n */\r\n\r\nconst simplifyUrl = (url) => {\r\n    return url.replace('https://', '')\r\n        .replace('http://', '')\r\n        .replace('www.', '')\r\n        .replace(/\\/.*/, '')\r\n}\r\n\r\nconst render = () => {\r\n    $siteList.find('li:not(.last').remove()\r\n    hashMap.forEach((node, index) => {\r\n        const $li = $(`\r\n        <li>\r\n            <div class=\"site\">\r\n                <div class=\"logo\">${node.logo}</div>\r\n                <div class=\"name\">${node.name}</div>\r\n                <div class=\"pc-close\">\r\n                    <svg class=\"icon\">\r\n                        <use xlink:href=\"#icon-close\"></use>\r\n                    </svg>\r\n                </div>\r\n                <div class=\"mobile-close-container\">\r\n                    <div class=\"mobile-close\">\r\n                        <svg class=\"icon\">\r\n                            <use xlink:href=\"#icon-close\"></use>\r\n                        </svg>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        </li>`).insertBefore($lastLi)\r\n        $li.on('click', () => {\r\n            window.open(node.url, '_self')\r\n        })\r\n        $li.on('click', '.pc-close', (e) => {\r\n            e.stopPropagation()\r\n            hashMap.splice(index, 1)\r\n            localStorage.setItem('sites', JSON.stringify(hashMap))\r\n            render()\r\n        })\r\n        $li.on('touchend', '.mobile-close', (e) => {\r\n            e.stopPropagation()\r\n            hashMap.splice(index, 1)\r\n            localStorage.setItem('sites', JSON.stringify(hashMap))\r\n            render()\r\n        })\r\n        $(document).on('touchstart', (e) => {\r\n            $('.mobile-close-container', $li).css('display', 'none')\r\n        })\r\n        $li.on({\r\n            touchstart: function (e) {\r\n                longClick = 0\r\n                timeOutEvent = setTimeout(function () {\r\n                    $('.mobile-close-container', $li).css('display', 'block')\r\n                    longClick = 1\r\n                }, 500)\r\n                e.preventDefault()\r\n            },\r\n            touchmove: function (e) {\r\n                clearTimeout(timeOutEvent)\r\n                timeOutEvent = 0\r\n                e.preventDefault()\r\n            },\r\n            touchend: function (e) {\r\n                clearTimeout(timeOutEvent)\r\n                if (timeOutEvent !== 0 && longClick === 0) {\r\n                    window.open(node.url, '_self')\r\n                }\r\n            }\r\n        })\r\n    })\r\n}\r\n\r\nrender()\r\n\r\n/**\r\n * 设置添加网站事件\r\n */\r\n\r\n$(\".add-button\")\r\n    .on('click', () => {\r\n        $('#add-dialog-container').css('display', 'block')\r\n    })\r\n\r\n$('#dialog-submit', '.add-dialog').\r\n    on('click', () => {\r\n        let siteName = $(`input[id='field-name']`, '.add-dialog').val()\r\n        let url = $(`input[id='field-url']`, '.add-dialog').val()\r\n        $('input', '.add-dialog').val('')\r\n        if (!siteName) {\r\n            siteName = simplifyUrl(url)\r\n        }\r\n        if (!url) {\r\n            alert('请务必输入网址哦')\r\n            return\r\n        }\r\n        if (url.indexOf('http') !== 0) {\r\n            url = 'https://' + url\r\n        }\r\n        hashMap.push({\r\n            name: siteName,\r\n            logo: siteName[0],\r\n            logoType: 'text',\r\n            url: url\r\n        })\r\n        $('#add-dialog-container').css('display', 'none')\r\n        render()\r\n        localStorage.setItem('sites', JSON.stringify(hashMap))\r\n    })\r\n\r\n$('#dialog-close', '.add-dialog').\r\n    on('click', () => {\r\n        $('#add-dialog-container').css('display', 'none')\r\n        $('input', '.add-dialog').val('')\r\n    })\r\n\r\n/**\r\n * 设置快捷键事件\r\n */\r\n\r\n$(document).on('keypress', (e) => {\r\n    const { key } = e\r\n    console.log(key)\r\n    window.open(hashMap[key - 1].url, '_self')\r\n})\r\n\r\n$('input', '.search-from').on('keypress', (e) => {\r\n    e.stopPropagation()\r\n})\r\n\r\n$('input', '.add-dialog').on('keypress', (e) => {\r\n    e.stopPropagation()\r\n})\r\n\r\n$('#test').on('click', () => {\r\n    localStorage.clear()\r\n    location.reload()\r\n})"]}