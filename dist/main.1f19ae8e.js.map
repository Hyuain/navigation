{"version":3,"sources":["main.js"],"names":["$siteList","$","$lastLi","find","sites","JSON","parse","localStorage","getItem","hashMap","logo","logoType","name","url","simplifyUrl","replace","render","remove","forEach","node","index","$li","insertBefore","on","window","open","e","stopPropagation","splice","setItem","stringify","css","document","key","console","log","siteName","val","alert","indexOf","push"],"mappings":"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","file":"main.1f19ae8e.js","sourceRoot":"..\\src","sourcesContent":["const $siteList = $('.siteList')\r\nconst $lastLi = $siteList.find('li.last')\r\nconst sites = JSON.parse(localStorage.getItem('sites'))\r\n\r\nconst hashMap = sites || [\r\n    {\r\n        logo: 'A',\r\n        logoType: 'text',\r\n        name: 'acfun',\r\n        url: 'https://www.acfun.cn'\r\n    }, {\r\n        logo: 'B',\r\n        logoType: 'text',\r\n        name: 'bilibili',\r\n        url: 'https://bilibili.com'\r\n    }\r\n]\r\n\r\nconst simplifyUrl = (url) => {\r\n    return url.replace('https://', '')\r\n        .replace('http://', '')\r\n        .replace('www.', '')\r\n        .replace(/\\/.*/, '')\r\n}\r\n\r\nconst render = () => {\r\n    $siteList.find('li:not(.last').remove()\r\n    hashMap.forEach((node, index) => {\r\n        const $li = $(`\r\n        <li>\r\n            <div class=\"site\">\r\n                <div class=\"logo\">${node.logo}</div>\r\n                <div class=\"name\">${node.name}</div>\r\n                <div class=\"close\">\r\n                    <svg class=\"icon\">\r\n                        <use xlink:href=\"#icon-close\"></use>\r\n                    </svg>\r\n                </div>\r\n            </div>\r\n        </li>`).insertBefore($lastLi)\r\n        $li.on('click', () => {\r\n            window.open(node.url, '_self')\r\n        })\r\n        $li.on('click', '.close', (e) => {\r\n            e.stopPropagation()\r\n            hashMap.splice(index, 1)\r\n            localStorage.setItem('sites', JSON.stringify(hashMap))\r\n            render()\r\n        })\r\n    })\r\n}\r\n\r\nrender()\r\n\r\n$(\".addButton\")\r\n    .on('click', () => {\r\n        $('#addDialogWrapper').css('display', 'block')\r\n    })\r\n\r\n$(document).on('keypress', (e) => {\r\n    const { key } = e\r\n    console.log(key)\r\n    window.open(hashMap[key - 1].url, '_self')\r\n})\r\n\r\n$('input', '.searchFrom').on('keypress', (e) => {\r\n    e.stopPropagation()\r\n})\r\n\r\n$('input', '.addDialog').on('keypress', (e) => {\r\n    e.stopPropagation()\r\n})\r\n\r\n$('#dialog-submit', '.addDialog').on('click', (e) => {\r\n    let siteName = $(`input[id='field-name']`, '.addDialog').val()\r\n    let url = $(`input[id='field-url']`, '.addDialog').val()\r\n    $('input', '.addDialog').val('')\r\n    if (!siteName) {\r\n        siteName = simplifyUrl(url)\r\n    }\r\n    if (!url) {\r\n        alert('请务必输入网址哦')\r\n        return\r\n    }\r\n    if (url.indexOf('http') !== 0) {\r\n        url = 'https://' + url\r\n    }\r\n    hashMap.push({\r\n        name: siteName,\r\n        logo: siteName[0],\r\n        logoType: 'text',\r\n        url: url\r\n    })\r\n    $('#addDialogWrapper').css('display', 'none')\r\n    render()\r\n    localStorage.setItem('sites', JSON.stringify(hashMap))\r\n})\r\n\r\n$('#dialog-close', '.addDialog').on('click', () => {\r\n    $('#addDialogWrapper').css('display', 'none')\r\n    $('input', '.addDialog').val('')\r\n    console.log('clicked')\r\n})"]}