{"version":3,"sources":["main.js"],"names":["$siteList","$","$lastLi","find","sites","JSON","parse","localStorage","getItem","hashMap","name","logo","url","ico","simplifyUrl","replace","render","remove","forEach","node","index","$li","insertBefore","on","window","open","e","stopPropagation","splice","setItem","stringify","document","fadeOut","touchstart","longClick","timeOutEvent","setTimeout","fadeIn","preventDefault","touchmove","clearTimeout","touchend","css","html","submit","siteName","val","alert","indexOf","push","toUpperCase","removeClass","click","addClass","keypress","key","clear","location","reload","focusin","focusout","backgroundIndex"],"mappings":"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","file":"main.64d83c44.js","sourceRoot":"..\\src","sourcesContent":["const $siteList = $('.site-list')\nconst $lastLi = $siteList.find('li.last')\nconst sites = JSON.parse(localStorage.getItem('sites'))\n\n/**\n * 设置数据存储及初始化\n */\n\nconst hashMap = sites || [\n    {\n        name: 'OverAPI',\n        logo: 'O',\n        url: 'http://overapi.com/',\n        ico: 'http://overapi.com/static/images/overapi-logo.png'\n    }, {\n        logo: 'M',\n        name: 'MDN',\n        url: 'https://developer.mozilla.org/zh-CN/',\n        ico: 'https://developer.mozilla.org/favicon.ico'\n    }, {\n        logo: 'V',\n        name: 'Validator',\n        url: 'http://validator.w3.org/',\n        ico: 'http://w3.org/favicon.ico'\n    },{\n        logo: 'I',\n        name: 'iconfont',\n        url: 'https://www.iconfont.cn/',\n        ico: 'https://imgs.91sotu.com/file/icon/qEPydkxQpVjAprM8QuaQptr1.png'\n    },{\n        logo: 'B',\n        name: 'BootCDN',\n        url: 'https://www.bootcdn.cn/',\n        ico: 'https://www.bootcdn.cn/assets/img/bootcdn.png'\n    },{\n        logo: 'B',\n        name: 'Bilibili',\n        url: 'https://www.bilibili.com/',\n        ico: 'https://www.bilibili.com/favicon.ico'\n    }\n]\n\n/**\n * 设置页面结构\n */\n\nconst simplifyUrl = (url) => {\n    return url.replace('https://', '')\n        .replace('http://', '')\n        .replace('www.', '')\n        .replace(/\\/.*/, '')\n}\n\nconst render = () => {\n    $siteList.find('li:not(.last').remove()\n    hashMap.forEach((node, index) => {\n        const $li = $(`\n        <li>\n            <div class=\"site\">\n                <div class=\"logo\"><img src=\"${node.ico}\"></div>\n                <div class=\"name\">${node.name}</div>\n                <div class=\"pc-close\">\n                    <svg class=\"icon\">\n                        <use xlink:href=\"#icon-close\"></use>\n                    </svg>\n                </div>\n                <div class=\"mobile-close-container\">\n                    <div class=\"mobile-close\">\n                        <svg class=\"icon\">\n                            <use xlink:href=\"#icon-close\"></use>\n                        </svg>\n                    </div>\n                </div>\n            </div>\n        </div>\n        </li>`).insertBefore($lastLi)\n        $li.on('click', () => {\n            window.open(node.url, '_self')\n        })\n        $li.on('click', '.pc-close', (e) => {\n            e.stopPropagation()\n            hashMap.splice(index, 1)\n            localStorage.setItem('sites', JSON.stringify(hashMap))\n            render()\n        })\n        $li.on('touchend', '.mobile-close', (e) => {\n            e.stopPropagation()\n            hashMap.splice(index, 1)\n            localStorage.setItem('sites', JSON.stringify(hashMap))\n            render()\n        })\n        $(document).on('touchstart', (e) => {\n            $('.mobile-close-container', $li).fadeOut(200)\n        })\n        $li.on({\n            touchstart: function (e) {\n                longClick = 0\n                timeOutEvent = setTimeout(function () {\n                    $('.mobile-close-container', $li).fadeIn(100)\n                    longClick = 1\n                }, 500)\n                e.preventDefault()\n            },\n            touchmove: function (e) {\n                clearTimeout(timeOutEvent)\n                timeOutEvent = 0\n                e.preventDefault()\n            },\n            touchend: function (e) {\n                clearTimeout(timeOutEvent)\n                if (timeOutEvent !== 0 && longClick === 0) {\n                    window.open(node.url, '_self')\n                }\n            }\n        })\n        $li.find('img').on('error', () => {\n            $li.find('img').css('display', 'none')\n            $li.find('.logo').html(`${node.logo}`)\n        })\n    })\n}\n\nrender()\n\n/**\n * 设置添加网站事件\n */\n\nconst submit = () => {\n    let siteName = $(`input[id='field-name']`, '.add-dialog').val()\n    let url = $(`input[id='field-url']`, '.add-dialog').val()\n    let ico = simplifyUrl(url)\n    $('input', '.add-dialog').val('')\n    if (!siteName) {\n        siteName = simplifyUrl(url)\n    }\n    if (!url) {\n        alert('请务必输入网址哦')\n        return\n    }\n    if (ico.indexOf('http') !== 0) {\n        ico = 'https://' + ico\n    }\n    if (url.indexOf('http') !== 0) {\n        url = 'https://' + url\n    }\n    hashMap.push({\n        name: siteName,\n        logo: siteName[0].toUpperCase(),\n        url: url,\n        ico: ico + '/favicon.ico'\n    })\n    $('#add-dialog-container').fadeOut(200)\n    render()\n    localStorage.setItem('sites', JSON.stringify(hashMap))\n    $('#add-button').removeClass('active')\n    $('.icon', '#add-button').removeClass('active')\n}\n\n$('#add-button').click(() => {\n    $('#add-dialog-container').fadeIn(200)\n    $('#add-button').addClass('active')\n    $('.icon', '#add-button').addClass('active')\n})\n\n$('#dialog-submit').click(() => {\n    submit()\n})\n\n$('#field-url').keypress((e) => {\n    const { key } = e\n    if (key === 'Enter') {\n        submit()\n    }\n    e.stopPropagation()\n})\n\n$('#dialog-close').click(() => {\n    $('#add-dialog-container').fadeOut(200)\n    $('input', '.add-dialog').val('')\n    $('#add-button').removeClass('active')\n    $('.icon', '#add-button').removeClass('active')\n})\n\n/**\n * 设置快捷键事件\n */\n\n$(document).on('keypress', (e) => {\n    const { key } = e\n    window.open(hashMap[key - 1].url, '_self')\n})\n\n$('input', '.search-form').on('keypress', (e) => {\n    e.stopPropagation()\n})\n\n$('input', '.add-dialog').on('keypress', (e) => {\n    e.stopPropagation()\n})\n\n$('#test').click(() => {\n    localStorage.clear()\n    location.reload()\n})\n\n$('input', '.search-form').focusin(() => {\n    $('.search-form').addClass('active')\n})\n\n$('input', '.search-form').focusout(() => {\n    $('.search-form').removeClass('active')\n})\n\nlet backgroundIndex = 1\n\n$('.change-background', '.about').click(() => {\n    $('body').removeClass(`img${backgroundIndex}`)\n    if (backgroundIndex === 10) backgroundIndex = 0\n    backgroundIndex++\n    $('body').addClass(`img${backgroundIndex}`)\n})"]}